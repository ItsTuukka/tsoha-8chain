<!doctype html>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">


<h2>Rekisteröidy</h2>
{% with messages = get_flashed_messages() %}
{% if messages %}
<ul class=flashes>
    {% for message in messages %}
    <strong>{{ message }}</strong> 
{% endfor %}
</ul>
{% endif %}
{% endwith %}
<form action="/register" method="post" onsubmit="return check(this)">
Tunnus: <input type="text" name="username">
<p>
Salasana: <input type="text" name="password1">
<p>
Salasana uudestaan: <input type="text" name="password2">
<p>
<input type="submit" value="Luo tunnus">
</form>
<p>
<a href="/login">Takaisin</a> | <a href="/">Etusivulle</a>
<script>
    function check(form) {
        if (!form.username.value) {
            alert("Käyttäjänimi ei voi olla tyhjä")
            return false
        }
        if (form.username.value.length < 3) {
            alert("Käyttäjänimen täyyy olla vähintään 3 merkkiä pitkä")
            return false
        }
        if (form.username.value.length > 30) {
            alert("Käyttäjänimi on liian pitkä")
            return false
        }
        if (!form.password1.value) {
            alert("Salasana ei voi olla tyhjä")
            return false
        }
        if (form.password1.value.length < 3) {
            alert("Salasanan täyyy olla vähintään 3 merkkiä pitkä")
            return false
        }
        if (form.password1.value.length > 30) {
            alert("Käyttäjänimi on liian pitkä")
            return false
        }
        return true
    }
</script>